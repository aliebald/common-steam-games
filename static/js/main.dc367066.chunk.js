(this["webpackJsonpcommon-steam-games"]=this["webpackJsonpcommon-steam-games"]||[]).push([[0],Array(23).concat([function(e){e.exports=JSON.parse('{"name":"common-steam-games","version":"0.1.0","private":true,"homepage":"http://aliebald.github.io/common-steam-games","subUrl":"/common-steam-games","dependencies":{"@testing-library/jest-dom":"^5.14.1","@testing-library/react":"^11.2.7","@testing-library/user-event":"^12.8.3","@types/jest":"^26.0.24","@types/node":"^12.20.33","@types/react":"^17.0.29","@types/react-dom":"^17.0.9","@types/react-router-dom":"^5.3.1","react":"^17.0.2","react-beautiful-dnd":"^13.1.0","react-dom":"^17.0.2","react-responsive":"^9.0.0-beta.4","react-router-dom":"^5.3.0","react-scripts":"4.0.3","socket.io-client":"^4.3.2","string-similarity":"^4.0.4","typescript":"^4.4.4","web-vitals":"^1.1.2"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build -m \\"Auto generated updates for GitHub Pages deployment\\""},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-beautiful-dnd":"^13.1.2","@types/string-similarity":"^4.0.0","gh-pages":"^3.2.3"}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(25),i=n.n(c),r=(n(54),n(3)),o=n(12),l=n(4),d=n(30),m=n.n(d),u=n(39),j=(n(56),n(0));function b(e){var t,n=Object(s.useState)(!0),a=Object(r.a)(n,2),c=a[0],i=a[1],o=Object(s.useState)(!0),l=Object(r.a)(o,2),d=l[0],m=l[1],u=Object(s.useState)(void 0),b=Object(r.a)(u,2),f=b[0],h=b[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("button",{type:"button",className:"collapsible".concat(d?" collapsed":""," ").concat(e.btnClassName),onClick:function(){if(f&&(clearTimeout(f),h(void 0)),c)m(!1);else{var e=setTimeout((function(){return m(!0)}),500);h(e)}i(!c)},title:e.title,children:[null!==(t=e.header)&&void 0!==t?t:"Open",Object(j.jsxs)("div",{className:c?"arrow-down":"arrow-up",children:[Object(j.jsx)("div",{className:"arrow-l"}),Object(j.jsx)("div",{className:"arrow-r"})]})]}),Object(j.jsx)("div",{className:"content ".concat(c?"content-collapsed":""),children:d?Object(j.jsx)(j.Fragment,{}):e.children})]})}n(58);function f(){return Object(j.jsx)("div",{className:"about-teaser",children:Object(j.jsx)(b,{btnClassName:"about-teaser-header",header:Object(j.jsx)("h2",{children:"About"}),children:Object(j.jsxs)("div",{className:"about-teaser-content",children:[Object(j.jsx)("h3",{children:"What Is Common Steam Games?"}),Object(j.jsx)("p",{children:"Common Steam Games is a web application that enables groups of users to discover common games regarding their steam accounts and vote on games to find common preferences."}),Object(j.jsx)("p",{children:Object(j.jsx)(o.b,{to:"about",children:"Read more"})})]})})})}var h=n(34);n(63);function p(e){var t,n,s;return Object(j.jsx)("button",{className:"btn ".concat(null!==(t=e.appearance)&&void 0!==t?t:""," ").concat(null!==(n=e.className)&&void 0!==n?n:""),onClick:e.onClick,title:e.title,type:e.type,disabled:e.disabled,children:null!==(s=e.children)&&void 0!==s?s:""})}n(64);function O(e){var t=Object(s.useState)(0),n=Object(r.a)(t,2),a=n[0],c=n[1];return Object(j.jsxs)("div",{className:e.className,children:[Object(j.jsx)("ul",{className:"tabs",children:e.titles.map((function(e,t){return Object(j.jsx)("li",{className:"tabs-item ".concat(a===t?" active":""),children:Object(j.jsx)(p,{onClick:function(){return c(t)},children:e})},t)}))}),e.children[a]]})}n(65);function g(e){var t;return e.titles&&e.minTitles?Object(j.jsx)(v,{children:e.children,titles:e.titles,minTitles:e.minTitles}):Object(j.jsx)("div",{className:"container-single",children:Object(j.jsx)("div",{className:"container-single-inner ".concat(null!==(t=e.className)&&void 0!==t?t:""),children:e.children})})}function v(e){var t,n,s=Object(h.useMediaQuery)({query:"(min-width: 1100px)"}),a=Object(h.useMediaQuery)({query:"(max-width: 450px)"})?e.minTitles:e.titles;return s?Object(j.jsx)("div",{className:"container ".concat(null!==(n=e.className)&&void 0!==n?n:""),children:e.children}):Object(j.jsx)(O,{titles:a,className:"container-tabs ".concat(null!==(t=e.className)&&void 0!==t?t:""),children:e.children})}var x=n(5);n(66);function y(e){var t=function(t){return 1===e.options.length?"btn-group-btn":t===e.options.length-1?"btn-group-btn no-br-left":0===t?"btn-group-btn no-br-right":"btn-group-btn no-br"};return Object(j.jsx)("div",{className:"btn-group",children:e.options.map((function(n,s){return Object(j.jsx)(p,{type:"button",className:t(s),appearance:s===e.activeIndex?"confirm":void 0,onClick:function(){return e.setActive(s)},disabled:e.disabled,children:n},s)}))})}n(67);function N(e){return Object(j.jsxs)("div",{className:e.className,children:[Object(j.jsxs)("div",{className:"settings-section",children:[Object(j.jsx)("label",{className:"settings-label",children:"What games should be matched:"}),Object(j.jsx)(y,{name:"CGOptions",options:["All Games","Only Common Games"],activeIndex:e.settings.onlyCommonGames?1:0,setActive:function(t){var n=1===t;if(e.settings.onlyCommonGames!==n){var s=Object(x.a)({},e.settings);s.onlyCommonGames=n,e.setSettings(s)}}})]}),Object(j.jsxs)("div",{className:"settings-section",children:[Object(j.jsx)("label",{className:"settings-label",children:"Who can add custom games: *"}),Object(j.jsx)(y,{name:"CGOptions",options:["Everyone","Only Host"],activeIndex:e.settings.allCanAddCustomGames?0:1,setActive:function(t){var n=0===t;if(e.settings.allCanAddCustomGames!==n){var s=Object(x.a)({},e.settings);s.allCanAddCustomGames=n,e.setSettings(s)}},disabled:!e.isHost})]}),Object(j.jsxs)("div",{className:"settings-section",children:[Object(j.jsx)("label",{className:"settings-label",children:"Default game sort for new users: *"}),Object(j.jsx)(y,{name:"CGOptions",options:["Total Playtime","Playtime Last 2 Weeks"],activeIndex:"total"===e.settings.defaultSort?0:1,setActive:function(t){return function(t){var n=0===t?"total":"last2Weeks";if(e.settings.defaultSort!==n){var s=Object(x.a)({},e.settings);s.defaultSort=n,e.setSettings(s)}}(t)},disabled:!e.isHost})]}),Object(j.jsx)("p",{className:"settings-hint",children:"Settings marked with * can only be edited by the session host."})]})}n(68);function S(e){var t,n=Object(s.useState)(null!==(t=e.steamId)&&void 0!==t?t:""),a=Object(r.a)(n,2),c=a[0],i=a[1],d=Object(l.g)(),b=function(){var t=Object(u.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.onSubmit(c),d.push("/matching");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(g,{className:"create-session",children:[Object(j.jsx)("h1",{className:"title",children:"Common Steam Games"}),Object(j.jsx)("h2",{className:"subtitle",children:"Create new Session"}),Object(j.jsxs)("form",{onSubmit:b,children:[Object(j.jsx)("label",{htmlFor:"createSessionSteamId",children:"Steam ID or Profile URL:"}),Object(j.jsxs)("div",{className:"steamId-input input-margin",children:[Object(j.jsx)("span",{className:"profile-url",children:"https://steamcommunity.com/id/"}),Object(j.jsx)("input",{type:"text",name:"steamId",id:"createSessionSteamId",onChange:function(e){i(e.target.value)},className:"d-table-cell",defaultValue:c,placeholder:"Steam ID or Profile URL",required:!0})]}),Object(j.jsx)(N,{isHost:!0,settings:e.settings,setSettings:e.setSettings,className:"create-session-settings"}),Object(j.jsx)("input",{type:"submit",value:"Create New Session",className:"btn"})]}),Object(j.jsxs)("p",{className:"link-join",children:["Or ",Object(j.jsx)(o.b,{to:"/join",children:"join existing session"})]}),Object(j.jsx)(f,{})]})}var C=n(23);n(69);function w(){return Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("div",{className:"f-left",children:"This project is not affiliated with Valve or Steam"}),Object(j.jsxs)("div",{className:"f-right",children:[Object(j.jsx)(o.b,{to:"about",className:"footer-link",children:"About"}),Object(j.jsx)("a",{className:"footer-link",href:"https://aliebald.github.io/impressum/",target:"_blank",rel:"noopener noreferrer",title:"Impressum gem\xe4\xdf \xa7 5 TMG",children:"Impressum"}),Object(j.jsx)("div",{title:"Send me a mail",onClick:function(){return function(e){for(var t="",n=0;n<e.length;n++)e.charCodeAt(n)>122?(t+=String.fromCharCode(e.charCodeAt(n+1)-56561),n++):t+=e.charAt(n);window.open("mailto:"+t,"_self")}("\ud835\udd54\ud835\udd60\ud835\udd5f\ud835\udd65\ud835\udd52\ud835\udd54\ud835\udd65.\ud835\udd5d\ud835\udd5a\ud835\udd56\ud835\udd53\ud835\udd52\ud835\udd5d\ud835\udd55@\ud835\udd58\ud835\udd5e\ud835\udd52\ud835\udd5a\ud835\udd5d.\ud835\udd54\ud835\udd60\ud835\udd5e")},children:Object(j.jsx)("img",{src:"".concat(C.subUrl,"/email.svg"),alt:"contact",height:"20px",width:"20px",className:"contact"})}),Object(j.jsx)("a",{href:"https://github.com/aliebald/common-steam-games",target:"_blank",rel:"noopener noreferrer",title:"GitHub Repository",children:Object(j.jsx)("img",{src:"".concat(C.subUrl,"/github.svg"),alt:"github",height:"18px",width:"18px",className:"github"})})]})]})}function I(e){var t,n,a=Object(s.useState)(null!==(t=e.steamId)&&void 0!==t?t:""),c=Object(r.a)(a,2),i=c[0],d=c[1],b=Object(s.useState)(null!==(n=e.sessionId)&&void 0!==n?n:""),h=Object(r.a)(b,2),p=h[0],O=h[1],v=Object(l.g)(),x=function(){var t=Object(u.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.onSubmit(i,p),v.push("/matching");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(g,{className:"join-session",children:[Object(j.jsx)("h1",{className:"title",children:"Common Steam Games"}),Object(j.jsx)("h2",{className:"subtitle",children:"Join Session"}),Object(j.jsxs)("form",{className:"d-table",onSubmit:x,children:[Object(j.jsxs)("div",{className:"d-table-row",children:[Object(j.jsx)("label",{htmlFor:"joinSessionSteamId",className:"d-table-cell",children:"Steam ID or Profile URL:"}),Object(j.jsxs)("div",{className:"steamId-input input-margin",children:[Object(j.jsx)("span",{className:"profile-url",children:"https://steamcommunity.com/id/"}),Object(j.jsx)("input",{type:"text",name:"steamId",id:"joinSessionSteamId",onChange:function(e){d(e.target.value)},className:"d-table-cell",defaultValue:i,placeholder:"Steam ID or Profile URL",required:!0})]})]}),Object(j.jsxs)("div",{className:"d-table-row",children:[Object(j.jsx)("label",{htmlFor:"sessionId",className:"d-table-cell",children:"Session ID:\xa0"}),Object(j.jsx)("input",{type:"text",name:"sessionId",id:"sessionId",onChange:function(e){O(e.target.value)},className:"d-table-cell input-margin",defaultValue:p,placeholder:"Session ID",required:!0})]}),Object(j.jsxs)("div",{className:"d-table-row",children:[Object(j.jsx)("div",{className:"d-table-cell"}),Object(j.jsx)("div",{className:"d-table-cell",children:Object(j.jsx)("input",{type:"submit",value:"Join Session",className:"btn"})})]})]}),Object(j.jsxs)("p",{className:"link-create",children:["Or ",Object(j.jsx)(o.b,{to:"/create",children:"create new session"})]}),Object(j.jsx)(f,{})]})}n(70);function k(){return Object(j.jsxs)("div",{className:"unknown-page",children:[Object(j.jsx)("p",{children:"The page you are looking for was not found."}),Object(j.jsxs)("p",{children:["You can ",Object(j.jsx)(o.b,{to:"/create",children:"create a new session"})," or ",Object(j.jsx)(o.b,{to:"/join",children:"join an existing session"}),"."]})]})}var G=n(24),A=n(31),E=n(37),D=n(35);n(71);function L(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1];return a?Object(j.jsxs)("div",{className:"tooltip-wrapper",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(j.jsx)("div",{className:"tooltip-popup ".concat(e.position),children:e.tooltip}),e.children]}):Object(j.jsx)("div",{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:e.children})}n(72);function T(e){var t;return Object(j.jsxs)("div",{className:"user-card ".concat(null!==(t=e.className)&&void 0!==t?t:""),children:[Object(j.jsx)("a",{href:e.user.profileurl,target:"_blank",rel:"noopener noreferrer",title:"Steam profile",children:Object(j.jsx)("img",{src:e.user.avatarmedium,alt:"avatar",height:"64px",width:"64px"})}),Object(j.jsxs)("div",{className:"user-details",children:[Object(j.jsx)("h3",{children:e.user.personaname}),Object(j.jsx)("span",{className:"realname",children:e.user.realname}),Object(j.jsx)("br",{})]}),Object(j.jsx)(p,{onClick:function(){window.open("steam://friends/message/".concat(e.user.steamId))},children:"Chat"})]})}n(73);function _(e){var t,n,s,a=Math.round(100*(e.game.playtime_forever/60+Number.EPSILON))/100,c=e.game.playtime_2weeks?Math.round(100*(e.game.playtime_2weeks/60+Number.EPSILON))/100:0,i="weight"in e.game,r=null!==(t=e.game.isCustom)&&void 0!==t&&t,o=i?function(e){var t=(Math.round(1e4*e)/100).toFixed(2);return"".concat(parseFloat(t),"%")}(e.game.weight):"";n=r?"Custom Game":i?"Average Playtime: ".concat(a,"h"):c>0?"Playtime: ".concat(a,"h / ").concat(c,"h"):"Playtime: ".concat(a,"h");var l,d,m=e.game.img_icon_url.length>0;if(m)s=Object(j.jsx)("img",{src:(l=e.game.appid,d=e.game.img_icon_url,"https://media.steampowered.com/steamcommunity/public/images/apps/".concat(l,"/").concat(d,".jpg")),width:"32",height:"32",alt:"icon",loading:"lazy"});else{var u=e.game.name.length>0?e.game.name.charAt(0):"?";s=Object(j.jsx)("div",{className:"no-icon".concat(r?" custom":""),children:Object(j.jsx)("span",{children:u})})}var b=e.isDnD?{tabIndex:-1}:{},f=function(e){return"https://store.steampowered.com/app/".concat(e)}(e.game.appid);return Object(j.jsxs)("div",{className:"game",children:[!r&&f?Object(j.jsx)("a",Object(x.a)(Object(x.a)({className:"img-link",href:f,title:"".concat(e.game.name," steam page"),target:"_blank",rel:"noopener noreferrer",style:m?{}:{textDecoration:"none"}},b),{},{children:s})):Object(j.jsx)("div",{className:"img-link no-select",children:s}),Object(j.jsxs)("div",{className:i||e.isDnD?"game-info no-br":"game-info",children:[Object(j.jsx)("div",{className:"title",children:e.game.name}),Object(j.jsx)("div",{className:"playtime",children:n})]}),i?Object(j.jsxs)("div",{className:"match-info",children:[e.showOwners?Object(j.jsx)(F,{owners:e.game.owners,gameTitle:e.game.name}):Object(j.jsx)(j.Fragment,{}),Object(j.jsxs)("div",{className:"weight",children:["Match:\xa0",o]})]}):Object(j.jsx)(j.Fragment,{}),e.isDnD?Object(j.jsx)("div",{className:"dnd-icon",children:Object(j.jsx)("img",{src:"dnd_icon.svg",alt:"",width:"17",height:"32",className:e.DnDHighlight?"highlight":""})}):Object(j.jsx)(j.Fragment,{})]})}function F(e){return Object(j.jsx)(j.Fragment,{children:e.owners.map((function(e,t){return Object(j.jsx)(L,{position:"bottom-left",tooltip:Object(j.jsx)(T,{user:e}),children:Object(j.jsx)("img",{src:e.avatar,alt:"",height:"16px",width:"16px",className:"owner",loading:"lazy"})},t)}))})}function P(e){return Object(j.jsx)(E.b,{draggableId:"".concat(e.game.appid),index:e.index,children:function(t){return Object(j.jsx)("div",Object(x.a)(Object(x.a)(Object(x.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:e.hide?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(_,{game:e.game,isDnD:!0,DnDHighlight:e.DnDHighlight})}))}})}function R(e,t){return e.game.appid===t.game.appid&&e.index===t.index&&e.hide===t.hide&&e.DnDHighlight===t.DnDHighlight}var U=Object(s.memo)(P,R);n(74);function H(e){var t,n,a,c,i=null!==(t=e.header)&&void 0!==t?t:"",r=Object(s.createRef)(),o=null!==(n=e.onlyCommonGames)&&void 0!==n&&n;if(Object(s.useEffect)((function(){if(e.gameSearch&&e.gameSearch.length>1&&r.current){var t=function(e){if(!r.current)return 0;for(var t=0,n=0;n<e;n++)t+=r.current.children[0].children[n].scrollHeight;return t}(function(t){var n={similarity:0,index:0,name:""};return e.games.forEach((function(s,a){if(!e.onlyCommonGames||e.commonAppIds.includes(s.appid)){var c=Object(D.compareTwoStrings)(s.name.toLowerCase(),t.toLowerCase());c>n.similarity&&(n={similarity:c,index:a,name:s.name})}})),console.log('Best match for game search ("'.concat(t,'"): ').concat(n.name,". Similarity: ").concat(n.similarity)),n.index}(e.gameSearch));r.current.scrollTo({top:t,behavior:"smooth"})}}),[r,e.games,e.gameSearch,e.commonAppIds,e.onlyCommonGames]),e.droppableId&&e.onDragEnd)return Object(j.jsx)("div",{className:"games-list ".concat(null!==(c=e.className)&&void 0!==c?c:""),children:Object(j.jsxs)(E.a,{onDragEnd:e.onDragEnd,children:[i,Object(j.jsx)("div",{className:"scroll-container",ref:r,children:Object(j.jsx)(E.c,{droppableId:e.droppableId,children:function(t){return Object(j.jsxs)("div",Object(x.a)(Object(x.a)({},t.droppableProps),{},{ref:t.innerRef,children:[Object(j.jsx)(M,{games:e.games,onlyCommonGames:o,commonAppIds:e.commonAppIds}),t.placeholder]}))}})})]})});var l=o?e.games.filter((function(t){return e.commonAppIds.includes(t.appid)})):e.games;return Object(j.jsxs)("div",{className:"games-list ".concat(null!==(a=e.className)&&void 0!==a?a:""),children:[i,Object(j.jsx)("div",{className:"scroll-container",children:l.map((function(e,t){return Object(j.jsx)(_,{game:e,showOwners:!o},t)}))})]})}var M=a.a.memo((function(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1];Object(s.useEffect)((function(){var e=setTimeout((function(){c(!0)}),1e3),t=setTimeout((function(){c(!1)}),6e3);return function(){clearTimeout(e),clearTimeout(t)}}),[]);var i=e.games.map((function(t,n){return!e.onlyCommonGames||e.commonAppIds.includes(t.appid)?Object(j.jsx)(U,{game:t,index:n,DnDHighlight:a},t.appid):Object(j.jsx)(U,{game:t,index:n,hide:!0,DnDHighlight:a},t.appid)}));return Object(j.jsx)(j.Fragment,{children:i})}));n(75);function J(e){var t,n="".concat(window.location.origin).concat(C.subUrl,"/?sessionId=").concat(encodeURIComponent(e.sessionId),"#/join");return Object(j.jsxs)("div",{className:"invite-box ".concat(null!==(t=e.className)&&void 0!==t?t:""),children:[Object(j.jsx)("label",{children:"Invite your friends"}),Object(j.jsxs)("div",{className:"invite-row",children:[Object(j.jsx)("input",{className:"invite-input",type:"text",value:n,readOnly:!0,onFocus:function(e){e.target.select()},title:"Invite link. Click 'Copy Invite' to copy this link"}),Object(j.jsx)(p,{onClick:function(){navigator.clipboard.writeText(n)},title:"Copy invite link",children:"Copy\xa0Invite"}),Object(j.jsx)(p,{onClick:e.openFriendsList,title:"Open your friends list and create personalized invites. This allows your friends to directly join you without looking up their steamId.",children:"Open\xa0Friends\xa0List"})]})]})}n(76);function V(e){var t,n=e.center?" v-centered":"",s=Object(j.jsxs)("div",{className:"lds-roller".concat(n," ").concat(null!==(t=e.className)&&void 0!==t?t:""),children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]});return e.center?Object(j.jsx)("div",{className:"flex-center",children:s}):s}n(77);function q(e){var t,n;return Object(j.jsxs)("form",{className:"search-bar-form ".concat(null!==(t=e.className)&&void 0!==t?t:""),onSubmit:function(t){t.preventDefault(),e.onChange(t.target[0].value)},children:[Object(j.jsx)("input",{type:"text",onChange:function(t){t.preventDefault(),e.onChange(t.target.value)},placeholder:e.placeholder,title:null!==(n=e.title)&&void 0!==n?n:"button"}),Object(j.jsx)("button",{type:"reset",children:"\xd7"})]})}n(78);function B(e){var t,n="undefined"!==typeof e.onSearch&&"undefined"!==typeof e.onSortByTotal&&"undefined"!==typeof e.onSortByLastTwoWeeks,s=Object(j.jsxs)("div",{className:"sub-header",children:[Object(j.jsx)(q,{placeholder:"Search Game",onChange:function(t){"undefined"!==typeof e.onSearch&&e.onSearch(t)},title:"Search for a game in your games"}),Object(j.jsx)("span",{title:"Sorts your games according to your total playtime or playtime in the last two weeks",children:"Sort\xa0by:"}),Object(j.jsx)(p,{onClick:e.onSortByLastTwoWeeks,title:"Sorts your games according to your playtime in the last two weeks",children:"Last\xa02\xa0Weeks"}),Object(j.jsx)(p,{onClick:e.onSortByTotal,title:"Sorts your games according to your total playtime",children:"Total"})]});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"user-header ".concat(n?"has-subheader":""," ").concat(null!==(t=e.className)&&void 0!==t?t:""),children:[Object(j.jsx)("a",{href:e.user.profileurl,target:"_blank",rel:"noopener noreferrer",title:"Steam profile",children:Object(j.jsx)("img",{src:e.user.avatarmedium,width:"45",height:"45",alt:"avatar"})}),Object(j.jsxs)("div",{className:"user-details",children:[Object(j.jsx)("h2",{children:e.title}),e.user.preferences?Object(j.jsxs)("div",{children:[e.user.preferences.length,"\xa0Games"]}):""]})]}),n?s:Object(j.jsx)(j.Fragment,{})]})}n(79);function W(e){var t;return Object(j.jsxs)("button",{className:"add-btn ".concat(null!==(t=e.className)&&void 0!==t?t:""),onClick:e.onClick,title:e.title,children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}n(80);function Y(e){var t;return Object(j.jsxs)("div",{className:"group-header ".concat(null!==(t=e.className)&&void 0!==t?t:""),children:[Object(j.jsxs)("div",{className:"group-details",children:[Object(j.jsx)("h2",{children:e.title}),Object(j.jsxs)("div",{children:[e.gamesCount,"\xa0",e.commonGames?"Common Games":"Games"]})]}),e.canAddCustomGames?Object(j.jsx)(W,{onClick:e.addCustomGame,title:"Add Custom Games"}):Object(j.jsx)(j.Fragment,{})]})}n(81);function z(e){var t,n,s,a=e.friend,c=null!==(t=null!==(n=a.personaname)&&void 0!==n?n:a.realname)&&void 0!==t?t:"",i="".concat(window.location.origin).concat(C.subUrl,"/?sessionId=").concat(encodeURIComponent(e.sessionId),"&steamId=").concat(e.friend.steamId,"#join");return Object(j.jsxs)("div",{className:"friend",children:[Object(j.jsxs)("div",{className:"friend-info",children:[Object(j.jsx)("a",{href:a.profileurl,target:"_blank",rel:"noopener noreferrer",title:"Steam profile",children:Object(j.jsx)("img",{src:a.avatarmedium,width:"45",height:"45",alt:"avatar"})}),Object(j.jsxs)("div",{className:"friend-personal",children:[Object(j.jsx)("div",{children:null!==(s=a.personaname)&&void 0!==s?s:""}),a.realname?Object(j.jsx)("div",{className:"realname",children:a.realname}):""]})]}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(p,{onClick:function(){window.open("steam://friends/message/".concat(a.steamId))},title:"Opens the steam chat with ".concat(c,", if steam is installed."),children:"Steam\xa0Chat"}),Object(j.jsx)(p,{onClick:function(){navigator.clipboard.writeText(i)},title:"Copies a personalized invite for ".concat(c,". This allows ").concat(c," to join without entering a steamId"),children:"Copy\xa0Invite"})]})]})}n(82);function Q(e){var t=Object(s.useState)([]),n=Object(r.a)(t,2),c=n[0],i=n[1],o=Object(s.useState)(""),l=Object(r.a)(o,2),d=l[0],m=l[1],u=Object(s.useState)([]),b=Object(r.a)(u,2),f=b[0],h=b[1],O=a.a.createRef();Object(s.useEffect)((function(){return e.socket.on("friendsList",(function(t){console.log("friendsList",t),function(t){sessionStorage.setItem("friends",JSON.stringify({friends:t,steamId:e.steamId}))}(t),i(t)})),function(){var t=sessionStorage.getItem("friends");if("string"===typeof t){var n=JSON.parse(t);if(n.steamId===e.steamId)return void i(n.friends)}e.socket.emit("getFriendsList")}(),function(){e.socket.removeAllListeners("friendsList")}}),[e.socket,e.steamId]),Object(s.useEffect)((function(){var t=function(t){return Object(j.jsx)(z,{friend:t,sessionId:e.sessionId},t.steamId)};d.length<2?h(c.map(t)):h(c.map((function(e){var t=Object(D.compareTwoStrings)(e.personaname.toLowerCase(),d.toLowerCase());return e.realname&&(t+=Object(D.compareTwoStrings)(e.realname.toLowerCase(),d.toLowerCase()),t/=2),Object(x.a)(Object(x.a)({},e),{},{filterSimilarity:t})})).sort((function(e,t){return void 0===e.filterSimilarity||void 0===t.filterSimilarity?(console.warn("filterSimilarity is not defined"),0):t.filterSimilarity-e.filterSimilarity})).map(t))}),[d,c,e.sessionId]);return Object(j.jsxs)("div",{className:"friends",children:[Object(j.jsxs)("div",{className:"friendslist-header",children:[Object(j.jsx)(q,{className:"friend-search",onChange:function(e){m(e),O.current&&O.current.scrollTo({top:0,behavior:"smooth"})},placeholder:"Search Friends"}),Object(j.jsx)(p,{onClick:e.closeFriendsList,appearance:"danger",children:"\xa0Close\xa0Friends\xa0"})]}),Object(j.jsx)("div",{className:"list",ref:O,children:0===c.length?Object(j.jsx)(V,{center:!0}):f})]})}n(83);function K(e){if(Object(s.useEffect)((function(){var t=function(t){"Escape"===t.code&&(t.preventDefault(),e.setVisible(!1))};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]),!e.visible)return Object(j.jsx)(j.Fragment,{});return Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)("div",{className:"blur-bg",onClick:function(){e.setVisible(!1)}}),e.children]})}n(84);function X(e){var t;return Object(s.useEffect)((function(){var t=function(t){!e.visible||"Enter"!==t.code&&"NumpadEnter"!==t.code||(t.preventDefault(),e.onConfirm())};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]),Object(j.jsx)(K,{visible:null===(t=e.visible)||void 0===t||t,setVisible:function(t){t||e.onAbort()},children:Object(j.jsxs)("div",{className:"confirmation",children:[Object(j.jsx)("p",{className:"text",children:e.text}),Object(j.jsxs)("div",{className:"confirmation-footer",children:[Object(j.jsx)(p,{onClick:function(t){t.preventDefault(),e.onAbort()},children:e.abortText?e.abortText:"Abort"}),Object(j.jsx)(p,{onClick:function(t){t.preventDefault(),e.onConfirm()},appearance:"danger",children:e.confirmText?e.confirmText:"Confirm"})]})]})})}n(85);function Z(e){var t=Object(s.useState)({appid:0,name:"",img_icon_url:"",playtime_forever:0,isCustom:!0}),n=Object(r.a)(t,2),a=n[0],c=n[1];Object(s.useEffect)((function(){var t=function(t){!e.visible||"Enter"!==t.code&&"NumpadEnter"!==t.code||(t.preventDefault(),i())};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]);var i=function(){0!==a.name.length?(e.addGame(a),e.close()):e.addError({status:400,msg:"Please enter a name for the custom game.",timeout:3e3})};return Object(j.jsx)(K,{visible:e.visible,setVisible:function(t){t||e.close()},children:Object(j.jsxs)(g,{className:"custom-game-input",children:[Object(j.jsx)("h3",{className:"title",children:"Add Custom Game"}),Object(j.jsx)("p",{className:"description",children:"Custom games are added to all users in this session. This can be used to add non-Steam games, e.g. games from different platforms, browser games, or other activities."}),Object(j.jsx)("label",{htmlFor:"customGameName",children:"Name: \xa0 "}),Object(j.jsx)("input",{type:"text",id:"customGameName",onChange:function(e){e.preventDefault();var t=Object(x.a)({},a);t.name=e.target.value.trim(),c(t)},defaultValue:a.name,placeholder:"Name for Custom Game",required:!0}),Object(j.jsx)("h3",{className:"preview",children:"Preview"}),Object(j.jsx)(_,{game:a}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(p,{appearance:"danger",onClick:e.close,children:"Abort"}),Object(j.jsx)(p,{onClick:i,children:"Add\xa0 Game"})]})]})})}var $=n(49);function ee(e,t){var n=new Map,s=t.length>0?t.length:Math.max.apply(Math,Object(A.a)(e.map((function(e){return e.preferences?e.preferences.length:0}))));e.forEach((function(a){a.preferences&&(t.length>0?a.preferences.filter((function(e){return t.includes(e.appid)})):a.preferences).forEach((function(t,c){var i,r=function(e,t){var n=(t-e)/t;return!isNaN(n)&&n>=0?n*n:0}(c,s-1);n.has(t.appid)?((i=n.get(t.appid)).weight+=r/e.length,i.playtime_forever+=t.playtime_forever/e.length,i.owners&&i.owners.push(a)):i={appid:t.appid,name:t.name,img_icon_url:t.img_icon_url,playtime_2weeks:t.playtime_2weeks?t.playtime_2weeks/e.length:void 0,playtime_forever:t.playtime_forever/e.length,isCustom:t.isCustom,weight:r/e.length,owners:[a]},n.set(t.appid,i)}))}));var a=Array.from(n.values());return a.sort((function(e,t){return t.weight-e.weight})),a}n(90);var te=function(e){var t,n=Object(s.useState)([]),a=Object(r.a)(n,2),c=a[0],i=a[1],o=Object(s.useState)({steamId:e.steamId}),d=Object(r.a)(o,2),m=d[0],u=d[1],f=Object(s.useState)(e.sessionId?"":e.steamId),O=Object(r.a)(f,2),v=O[0],y=O[1],S=Object(s.useState)([]),C=Object(r.a)(S,2),w=C[0],I=C[1],k=Object(s.useState)(""),E=Object(r.a)(k,2),D=E[0],L=E[1],T=Object(s.useState)(!1),_=Object(r.a)(T,2),F=_[0],P=_[1],R=Object(s.useState)(void 0),U=Object(r.a)(R,2),M=U[0],q=U[1],z=Object(s.useState)(!1),te=Object(r.a)(z,2),ne=te[0],se=te[1],ae=Object(s.useState)(!1),ce=Object(r.a)(ae,2),ie=ce[0],re=ce[1],oe=Object(s.useState)(!1),le=Object(r.a)(oe,2),de=le[0],me=le[1],ue=Object(s.useState)(!1),je=Object(r.a)(ue,2),be=je[0],fe=je[1],he=Object(s.useState)([]),pe=Object(r.a)(he,2),Oe=pe[0],ge=pe[1],ve=Object(s.useState)(""),xe=Object(r.a)(ve,2),ye=xe[0],Ne=xe[1],Se=Object(l.g)(),Ce=Object(h.useMediaQuery)({query:"(min-width: 370px)"});Object(s.useEffect)((function(){ge(function(e){var t,n=[],s=e.length,a=Object(G.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(c.preferences){var i,r=Object(G.a)(c.preferences);try{var o=function(){var e=i.value,t=n.findIndex((function(t){return t.appid===e.appid}));t>=0?n[t].owners++:n.push({appid:e.appid,owners:1})};for(r.s();!(i=r.n()).done;)o()}catch(l){r.e(l)}finally{r.f()}}else s--}}catch(l){a.e(l)}finally{a.f()}return n.filter((function(e){return e.owners>=s})).map((function(e){return e.appid}))}(c.concat(m)))}),[c,m]),Object(s.useEffect)((function(){M&&(M.removeAllListeners("error"),M.removeAllListeners("session"),M.removeAllListeners("userJoined"),M.removeAllListeners("addCustomGame"),M.removeAllListeners("userDisconnect"),M.removeAllListeners("updateSettings"),M.removeAllListeners("updatePreferences"),M.on("error",(function(t){var n=t;n.timeout=15e3,e.addError(n),550!==n.status?(M&&M.disconnect(),Se.replace("/create")):se(!1)})),M.on("session",(function(t){var n;if(console.log("Received session:",t),t)if(c.length>0)console.warn("Received session but already is part of a session");else{var s=t,a=null!==(n=s.you)&&void 0!==n?n:m.steamId,r=s.users.filter((function(e){return e.steamId!==a})),o=s.users.find((function(e){return e.steamId===a}));if(!o)return e.addError({status:400,msg:"Failed to connect to session. Did not find self."}),M&&M.disconnect(),void Se.replace("/create");sessionStorage.setItem("sessionId",s.sessionId),L(s.sessionId),u(o),i(r),y(s.initiatorId),s.settings&&e.setSettings(s.settings)}})),M.on("userJoined",(function(e){console.log("Received handleUserJoined:",e,"users:",c);var t=Object(A.a)(c);t.push(e),i(t)})),M.on("addCustomGame",(function(e){console.log("Received AddCustomGame:",e);var t=Object(x.a)({},m);t.preferences?t.preferences.unshift(e):t.preferences=[e],u(t);var n,s=Object(A.a)(c),a=Object(G.a)(s);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.preferences?r.preferences.unshift(e):r.preferences=[e]}}catch(o){a.e(o)}finally{a.f()}i(s)})),M.on("userDisconnect",(function(e){console.log("Received handleUserDisconnect:",e,"users:",c);var t=c.filter((function(t){return t.steamId!==e}));i(t)})),M.on("updateSettings",(function(t){console.log("Received settings:",t),e.setSettings(t)})),M.on("updatePreferences",(function(e){console.log("Received updatePreferences:",e);var t=e,n=Object(A.a)(c),s=n.findIndex((function(e){return e.steamId===t.steamId}));-1!==s?(console.log("Updating preferences for ".concat(n[s].personaname," (").concat(t.steamId,")"),s),n[s].preferences=t.preferences,i(n)):console.log("Tried to update preferences for ".concat(t.steamId," but did not find user"))})))}),[m,c,M,e,Se]),Object(s.useEffect)((function(){var t=function(e,t,n){var s;return s=n?{steamId:e,sessionId:n}:{steamId:e,settings:JSON.stringify(t)},Object($.a)("https://common-steam-games.herokuapp.com/",{query:s,reconnectionAttempts:4})}(e.steamId,e.settings,e.sessionId);return q(t),t.io.on("reconnect_failed",(function(){console.log("Failed to reconnect"),e.addError({status:500,msg:"Lost connection to server",timeout:15e3}),Se.push("/create")})),t.io.on("reconnect_attempt",(function(n){var s="Lost connection to server, attempting to reconnect. Attempt (".concat(n,"/").concat(t.io.reconnectionAttempts(),")");console.log(s),e.addError({status:500,msg:s,timeout:6e3})})),function(){console.log("#### disconnecting ###"),t&&t.disconnect()}}),[e.sessionId,e.steamId]),Object(s.useEffect)((function(){console.log("calculatePreferences");var t=e.settings.onlyCommonGames?Oe:[];I(ee(c.concat(m),t))}),[c,m,e.settings.onlyCommonGames,Oe]),Object(s.useEffect)((function(){F&&m.preferences&&(M?(console.log("Sending preferences"),M.emit("updatePreferences",m.preferences),P(!1)):console.error("Socket is not defined"))}),[m.preferences,F]);var we=function(e){var t;t="total"===e?function(e,t){return e.isCustom===t.isCustom?t.playtime_forever-e.playtime_forever:e.isCustom?-1:1}:function(e,t){if(e.isCustom===t.isCustom){var n,s,a=null!==(n=e.playtime_2weeks)&&void 0!==n?n:0,c=null!==(s=t.playtime_2weeks)&&void 0!==s?s:0;return a===c?t.playtime_forever-e.playtime_forever:c-a}return e.isCustom?-1:1};var n=Object(x.a)({},m);n.preferences&&(n.preferences=n.preferences.sort(t),u(n),P(!0))};return m.preferences?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(K,{visible:ne&&"undefined"!==typeof M,setVisible:se,children:Object(j.jsx)(Q,{socket:M,sessionId:D,closeFriendsList:function(){return se(!1)},steamId:m.steamId})}),Object(j.jsx)(K,{visible:be,setVisible:fe,children:Object(j.jsxs)(g,{className:"settings-modal",children:[Object(j.jsxs)("div",{className:"settings-header",children:[Object(j.jsx)("h2",{children:"Settings"}),Object(j.jsx)(W,{onClick:function(){return fe(!1)},className:"close-btn"})]}),Object(j.jsx)(N,{settings:e.settings,setSettings:function(t){M&&(console.log("Sending settings"),M.emit("updateSettings",t)),e.setSettings(t)},isHost:v===m.steamId})]})}),Object(j.jsx)(Z,{visible:de,close:function(){return me(!1)},addGame:function(e){M&&(console.log("Adding Custom Game",e),M.emit("addCustomGame",e))},addError:e.addError}),Object(j.jsx)(X,{visible:ie,onAbort:function(){return re(!1)},onConfirm:function(){return Se.push("/create")},text:"Do you really want to leave this session?",confirmText:"Leave Session"}),Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{className:"title",onClick:function(){return re(!0)},children:Ce?"Common Steam Games":"C.S.G."}),Object(j.jsx)(p,{onClick:function(){return fe(!0)},className:"show-settings-btn",children:"Settings"})]}),Object(j.jsxs)(g,{titles:["Your Preferences","Group Preferences","Peers Preferences"],minTitles:["You","Group","Peers"],children:[Object(j.jsx)(H,{games:null!==(t=m.preferences)&&void 0!==t?t:[],onlyCommonGames:e.settings.onlyCommonGames,commonAppIds:Oe,onDragEnd:function(e){var t;if(e.destination){var n=Object(x.a)({},m);n.preferences=function(e,t,n){var s=Array.from(e),a=s.splice(t,1),c=Object(r.a)(a,1)[0];return s.splice(n,0,c),s}(null!==(t=m.preferences)&&void 0!==t?t:[],e.source.index,e.destination.index),ye.length>0&&Ne(""),u(n),P(!0)}},droppableId:"".concat(m.personaname,"'s Preferences"),gameSearch:ye,header:Object(j.jsx)(B,{title:"Your Preferences",user:m,onSearch:Ne,onSortByTotal:function(){return we("total")},onSortByLastTwoWeeks:function(){return we("recent")}})}),Object(j.jsx)(H,{games:w,onlyCommonGames:e.settings.onlyCommonGames,commonAppIds:Oe,header:Object(j.jsx)(Y,{title:"Group Preferences",gamesCount:w.length,commonGames:e.settings.onlyCommonGames,addCustomGame:function(){return me(!0)},canAddCustomGames:v===m.steamId||e.settings.allCanAddCustomGames})}),Object(j.jsxs)("div",{className:"peers",children:[Object(j.jsx)(J,{sessionId:D,className:c.length>0?"no-br-bottom":"",openFriendsList:function(){return se(!0)}}),c.map((function(t,n){var s,a;return Object(j.jsx)(b,{header:Object(j.jsx)(B,{title:"".concat(t.personaname,"'s preferences"),user:t,className:"no-br no-bg"}),title:"Show ".concat(null!==(s=t.personaname)&&void 0!==s?s:t.realname,"'s' preferences"),children:Object(j.jsx)(H,{games:null!==(a=t.preferences)&&void 0!==a?a:[],onlyCommonGames:e.settings.onlyCommonGames,commonAppIds:Oe,className:"no-br-top"},n)},"".concat(n,"-").concat(t.steamId))}))]})]})]}):Object(j.jsx)(V,{className:"v-centered",center:!0})};n(91);function ne(e){return Object(s.useEffect)((function(){var t,n=e.error.timeout;return n&&(t=setTimeout((function(){e.removeError()}),n)),function(){t&&clearTimeout(t)}}),[e]),Object(j.jsxs)("div",{className:"error-popup",children:[e.error.msg,Object(j.jsx)("div",{className:"error-close",onClick:e.removeError})]})}n(92);function se(e){var t=function(t){return function(){return e.setErrors(e.errors.filter((function(e){return e!==t})))}};return Object(j.jsx)("div",{className:"error-popup-list",children:Object(j.jsx)("div",{children:e.errors.map((function(e,n){return Object(j.jsx)(ne,{removeError:t(e),error:e},n)}))})})}n(93);function ae(){var e=Object(l.g)();return Object(j.jsxs)(g,{className:"about",children:[Object(j.jsx)(o.b,{to:"/create",className:"title",children:Object(j.jsx)("h1",{children:"About Common Steam Games"})}),Object(j.jsx)("h2",{children:"What Is Common Steam Games?"}),Object(j.jsx)("p",{children:"Common Steam Games is a web application that enables groups of users to discover common games regarding their steam accounts and vote on games to find common preferences."}),Object(j.jsx)("h2",{children:"Use Case"}),Object(j.jsx)("p",{children:"Ever played with a group of friends and could not decide on what to play? Then Common Steam Games is for you!"}),Object(j.jsx)("p",{children:"Create a session, invite your friends and instantly see your common games. Sort your preferences using easy to use drag n drop and see the group preferences adopt. Find old classics or games you did not know all of you had in common."}),Object(j.jsx)("h2",{children:"Requirements"}),Object(j.jsxs)("p",{children:["To allow Common Steam Games to access your steam games, your steam profile and game details must be set to public.",Object(j.jsx)("br",{}),"Optionally: set friends list public to access it in this app."]}),Object(j.jsxs)("p",{children:["If any of the above settings are not correct, you will receive an error. You can change your settings under: ",Object(j.jsx)("em",{children:"your profile"})," > edit profile > privacy settings."]}),Object(j.jsx)("h2",{children:"Features"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Live sessions with your peers"}),Object(j.jsx)("li",{children:"Preference matching"}),Object(j.jsx)("li",{children:"Games search & drag n drop"}),Object(j.jsx)("li",{children:"Steam games & friendslist integration"}),Object(j.jsx)("li",{children:"Custom games for your favorite common, non-steam games"}),Object(j.jsx)("li",{children:Object(j.jsx)("em",{children:"..."})})]}),Object(j.jsx)("h2",{children:"Contact"}),Object(j.jsxs)("p",{children:["For suggestions, bug reports or other project related topics, feel free to create an issue on"," ",Object(j.jsx)("a",{href:"https://github.com/aliebald/common-steam-games",children:"GitHub"}),".",Object(j.jsx)("br",{}),"Otherwise, for general feedback or other inquiries, please contact me via mail: contact.liebald (at) gmail.com."]}),Object(j.jsxs)("div",{className:"about-nav",children:[Object(j.jsx)(p,{onClick:e.goBack,children:"Go\xa0Back"}),Object(j.jsx)(p,{onClick:function(){return e.push("create")},children:"Create\xa0new\xa0Session"}),Object(j.jsx)(p,{onClick:function(){return e.push("join")},children:"Join\xa0Session"})]})]})}n(94);function ce(){var e=Object(s.useState)(function(){var e=new URLSearchParams(window.location.search).get("steamId");if(e){var t=decodeURIComponent(e);return sessionStorage.setItem("steamId",t),t}var n=sessionStorage.getItem("steamId");if(n)return n;return}()),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(function(){var e=new URLSearchParams(window.location.search).get("sessionId");if(e){var t=decodeURIComponent(e);return sessionStorage.setItem("sessionId",t),t}var n=sessionStorage.getItem("sessionId");if(n)return n;return}()),i=Object(r.a)(c,2),d=i[0],m=i[1],u=Object(s.useState)([]),b=Object(r.a)(u,2),f=b[0],h=b[1],p=Object(s.useState)({onlyCommonGames:!1,allCanAddCustomGames:!0,defaultSort:"total"}),O=Object(r.a)(p,2),g=O[0],v=O[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(se,{errors:f,setErrors:h}),Object(j.jsxs)(o.a,{children:[Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/matching",exact:!0,children:n?Object(j.jsx)(te,{steamId:n,sessionId:d,addError:function(e){h(f.concat(e))},settings:g,setSettings:v}):Object(j.jsx)(l.a,{to:"/"})}),Object(j.jsx)(l.b,{path:"/join",exact:!0,children:ie()?Object(j.jsx)(l.a,{to:"/matching",push:!0}):Object(j.jsx)(I,{onSubmit:function(e,t){sessionStorage.setItem("steamId",e),sessionStorage.setItem("sessionId",t),a(e),m(t)},sessionId:d,steamId:n})}),Object(j.jsx)(l.b,{path:"/create",exact:!0,children:Object(j.jsx)(S,{onSubmit:function(e){sessionStorage.setItem("steamId",e),sessionStorage.removeItem("sessionId"),a(e),m(void 0)},steamId:n,settings:g,setSettings:v})}),Object(j.jsx)(l.b,{path:"/about",children:Object(j.jsx)(ae,{})}),Object(j.jsx)(l.b,{path:"/",exact:!0,children:Object(j.jsx)(l.a,{to:"/create"})}),Object(j.jsx)(l.b,{path:"/",children:Object(j.jsx)(k,{})})]}),Object(j.jsx)(w,{})]}),Object(j.jsx)("div",{className:"background"})]})}var ie=function(){var e=new URLSearchParams(window.location.search);return e.has("steamId")&&e.has("sessionId")};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(ce,{})}),document.getElementById("root"))}]),[[95,1,2]]]);
//# sourceMappingURL=main.dc367066.chunk.js.map